{% extends "base.html" %}
{% load static %}

{% block title %}Подключения{% endblock %}
{% block head %} 
		<nav aria-label="breadcrumb">
		  <ol class="breadcrumb">
		  	<li class="breadcrumb-item"><a href="{% url 'device' %}">Список устройств</a></li>
		    <li class="breadcrumb-item"><a href="{% url 'all_connection' dev.pk %}" data-toggle="tooltip" data-placement="right" title="Показать все подключения от этого узла">
									    	Показать все подключения от {{ dev.ip }}
										</a>
			</li>
		  </ol>
		</nav>
{% endblock %}
 
{% block main %}
		<table class="table table-hover w-50">
			<tr>
				<td bgcolor="{{ color }}" colspan="2">
					{{ dev.model.type }}&nbsp;{{ dev.model.model }}
				</td>
				<td>
					сети&nbsp;
				</td>				
				<td bgcolor="{{ color }}" colspan="2">
					<a href="{% url 'path_to_dev' dev.pk %}" data-toggle="tooltip" data-placement="right" title="Показать путь до данного узла">{{ dev.ip }}</a>
				</td>
			</tr>
			{% for connection in connections %}
			<tr>
				<td>
          			<a class="alert-link text-dark" href="#" data-toggle="tooltip" data-placement="top" title="Редактировать устройство">
						<img src="{% static "img/edit.png" %}" width="20" height="20">
					</a>
				</td>
				<td>
					{{ connection.connected }}
				</td>
				<td>
					{{ connection.ip_client }}
				</td>
				<td>
					{{ connection.port }}port{{ connection.vlan }}
				</td>
				<td>
          			<a class="alert-link text-dark" href="#" data-toggle="tooltip" data-placement="top" title="Удалить устройство">
						<img src="{% static "img/delete.png" %}" width="20" height="20">
					</a>
				</td>
			</tr>
			{% endfor %}
			<tr>
				<td colspan="4">
					<a class="alert-link text-dark" href="{% url 'add_connection' dev.pk %}" data-toggle="tooltip" data-placement="top" title="добавить подключение">
						<img src="{% static "img/add.png" %}" width="32" height="32">
					</a>
				</td>
			</tr>
		</table>
{% endblock %}

